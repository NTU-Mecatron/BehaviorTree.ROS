<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="obj_depo">
    <Sequence>
      <PrintValue message="1"/>
      <Delay delay_msec="5000">
        <OnYolo timeout="100"
                service_name="on_yolo"/>
      </Delay>
      <Delay delay_msec="17000">
        <SearchBin server_name="search_bin"
                   timeout="500000"
                   target_object_id="1"
                   delta_X_angle="5"
                   xyz_margin="0.045, 0.05, 0"
                   angle_setpoint="67"
                   xyz_setpoint="0.45, 0.5, 0"
                   duration="3"/>
      </Delay>
      <Delay delay_msec="2000">
        <CameraXAngle service_name="/camera/x_angle"
                      timeout="100000"
                      x_angle="70"/>
      </Delay>
      <Center server_name="center"
              timeout="500000"
              target_object_id="1"
              xyz_margin="0.054, 0.05, 0"
              mode="1"
              xyz_setpoint="0.54, 0.5, 0"
              duration="3"/>
      <CameraXAngle service_name="/camera/x_angle"
                    timeout="100000"
                    x_angle="74"/>
      <Center server_name="center"
              timeout="500000"
              target_object_id="1"
              xyz_margin="0.058, 0.05, 0"
              mode="1"
              xyz_setpoint="0.57, 0.5, 0"
              duration="3"/>
      <MoveDown server_name="center"
                timeout="500000"
                target_object_id="1"
                xyz_margin="0.055, 0.05, 0.2"
                mode="2"
                xyz_setpoint="0.51, 0.5, 0.35"
                duration="3"/>
      <MoveUp server_name="center"
              timeout="500000"
              target_object_id="1"
              xyz_margin="0.04, 0.05, 0.2"
              mode="2"
              xyz_setpoint="0.4, 0.5, 0.2"
              duration="2"/>
    </Sequence>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel>
    <Action ID="CameraXAngle">
      <input_port name="service_name"
                  type="std::string">name of the ROS service</input_port>
      <input_port name="timeout"
                  default="100"
                  type="unsigned int">timeout to connect to server (milliseconds)</input_port>
      <input_port name="x_angle"
                  type="float"/>
    </Action>
    <Action ID="Center">
      <input_port name="server_name"
                  type="std::string">name of the Action Server</input_port>
      <input_port name="timeout"
                  default="500"
                  type="unsigned int">timeout to connect (milliseconds)</input_port>
      <input_port name="target_object_id"
                  type="int"/>
      <input_port name="xyz_margin"
                  type="std::string"/>
      <input_port name="mode"
                  type="int"/>
      <input_port name="xyz_setpoint"
                  type="std::string"/>
      <input_port name="duration"
                  type="float"/>
    </Action>
    <Action ID="MoveDown">
      <input_port name="server_name"
                  type="std::string">name of the Action Server</input_port>
      <input_port name="timeout"
                  default="500"
                  type="unsigned int">timeout to connect (milliseconds)</input_port>
      <input_port name="target_object_id"
                  type="int"/>
      <input_port name="xyz_margin"
                  type="std::string"/>
      <input_port name="mode"
                  type="int"/>
      <input_port name="xyz_setpoint"
                  type="std::string"/>
      <input_port name="duration"
                  type="float"/>
    </Action>
    <Action ID="MoveUp">
      <input_port name="server_name"
                  type="std::string">name of the Action Server</input_port>
      <input_port name="timeout"
                  default="500"
                  type="unsigned int">timeout to connect (milliseconds)</input_port>
      <input_port name="target_object_id"
                  type="int"/>
      <input_port name="xyz_margin"
                  type="std::string"/>
      <input_port name="mode"
                  type="int"/>
      <input_port name="xyz_setpoint"
                  type="std::string"/>
      <input_port name="duration"
                  type="float"/>
    </Action>
    <Action ID="OnYolo">
      <input_port name="timeout"
                  default="100"
                  type="unsigned int">timeout to connect to server (milliseconds)</input_port>
      <input_port name="service_name"
                  type="std::string">name of the ROS service</input_port>
    </Action>
    <Action ID="PrintValue">
      <input_port name="message"
                  type="int"/>
    </Action>
    <Action ID="SearchBin">
      <input_port name="server_name"
                  type="std::string">name of the Action Server</input_port>
      <input_port name="timeout"
                  default="500"
                  type="unsigned int">timeout to connect (milliseconds)</input_port>
      <input_port name="target_object_id"
                  type="int"/>
      <input_port name="delta_X_angle"
                  type="int"/>
      <input_port name="xyz_margin"
                  type="std::array&lt;float, 3ul&gt;"/>
      <input_port name="angle_setpoint"
                  type="int"/>
      <input_port name="xyz_setpoint"
                  type="std::array&lt;float, 3ul&gt;"/>
      <input_port name="duration"
                  type="float"/>
    </Action>
  </TreeNodesModel>

</root>
